<div class="columnsContainer">

  <div class="sideNav">
    <h4>Categories</h4>

    <div>       

      <button ng-click="getCategories(designId)" type="button" class="btn btn-sm btn-primary">Refresh</button>
      <button ng-click="toggleAll()" type="button" class="btn btn-sm btn-primary">Toggle</button>
      <script type="text/ng-template" id="nodes_renderer3.html">
        <div class="tree-node">
          <div class="pull-left tree-handle" ui-tree-handle>
            <span class="glyphicon glyphicon-list"></span>
          </div>
          <div class="tree-node-content">
            <a class="btn btn-success btn-xs" data-nodrag ng-click="toggle(this)">
              <span class="glyphicon" ng-class="{'glyphicon-chevron-right': collapsed, 'glyphicon-chevron-down': !collapsed}"></span>
            </a>
            <a ng-click="selectItem(this)" ng-show="(!categoryEditMode || selectedItemId != item.id)">
              {{item.categoryName}}
            </a>
            <span ng-show="categoryEditMode && selectedItemId==item.id">
              <input ng-model="item.categoryName" type="text">
              <button ng-click="updateItem(this)" type="button" class="btn btn-sm btn-primary">update</button>
              <button ng-click="openModalAlert(this, 'sm')" type="button" class="btn btn-sm btn-primary">remove</button>
            </span>
            <a class="pull-right btn btn-danger btn-xs" data-nodrag ng-click="editItem(this)"><span class="glyphicon glyphicon-remove"></span></a>
            <a class="pull-right btn btn-primary btn-xs" data-nodrag ng-click="newSubItem(this)" style="margin-right: 8px;"><span class="glyphicon glyphicon-plus"></span></a>
          </div>
        </div>
        <ol ui-tree-nodes="" ng-model="item.categoryList" ng-class="{hidden: collapsed}">
          <li ng-repeat="item in item.categoryList" ui-tree-node ng-include="'nodes_renderer3.html'">
          </li>
        </ol>
      </script> 


      <div ui-tree id="tree2-root" data-max-depth="2">
        <ol ui-tree-nodes="" ng-model="categoryDefinition" >
          <li ng-repeat="item in categoryDefinition" ui-tree-node ng-include="'nodes_renderer3.html'"></li>
        </ol>
      </div>

    </div>

  </div>

  <div class="leftColumn">

    <div ng-show="imageDefinition" class="gallery">
      <div >
        <div  ng-repeat="image in imageDefinition">
          <div >
            <library-image  id="uiimage2" info="image"></library-image>
          </div>
        </div>
      </div>
    </div>   

 
    
    <div ng-show="categoryId && !imageDefinition"> 
      <p>It appears that no images are part of this category: {{categoryId}}. If you loaded your design definition from a local json file then you can search the file for this categoryId to investigate the problem. Otherwise, you'll need to consult the database.
    </div>

   
    <div  class="image-detail-main" ng-show="imageDetailSelected">
      <library-image-detail  id="uiimagedetail2" info="selectedImage"></library-image-detail>
    </div>

    	
  </div>

  <div class="rightColumn">

  	<p>Zombie ipsum reversus ab viral inferno, nam rick grimes malum cerebro. De carne lumbering animata corpora quaeritis. Summus brains sit​​, morbo vel maleficia? De apocalypsi gorger omero undead survivor dictum mauris. Hi mindless mortuis soulless creaturas, imo evil stalking monstra adventus resi dentevil vultus comedat cerebella viventium.</p>

    <button type="button" class="btn btn-default" ng-click="openModalAlert()">Open me!</button>
    <button type="button" class="btn btn-default" ng-click="openModalAlert('lg')">Large modal</button>
    <button type="button" class="btn btn-default" ng-click="openModalAlert('sm')">Small modal</button>
    <button type="button" class="btn btn-default" ng-click="toggleAnimation()">Toggle Animation ({{ alertAnimationsEnabled }})</button>
    <div ng-show="selected">Selection from a modal: {{ selected }}</div>

    <button type="button" class="btn btn-default" ng-click="openAddImageDialogue(this, 'lg', selectedCategory)">Add2</button>


  
   
  </div>

</div>

     <script type="text/ng-template" id="myModalContent.html">
         <div class="modal-header">
             <h3 class="modal-title">You sure?</h3>
         </div>
         <div class="modal-body">
              Are you sure you want to remove the category.
              It means that all the images for the category will also be removed.
             <ul>
                 <li ng-repeat="item in items">
                     <a href="#" ng-click="$event.preventDefault(); selected.item = item">{{ item }}</a>
                 </li>
             </ul>
             Selected: <b>{{ selected.item }}</b>
         </div>
         <div class="modal-footer">
             <button class="btn btn-primary" type="button" ng-click="ok()">OK</button>
             <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>
         </div>
     </script>

     <script type="text/ng-template" id="imageAddDialogue.html">
         <div class="modal-header">
             <h3 class="modal-title">Add Images</h3>
         </div>
         <div class="modal-body">
             Select images from your computer or network resource.
             They will be uploaded to a central image repository. 
             From there they will be added to the clipart library when you publish your changes.
             /*
             <form>
                <div class="form-group">
                  <label for="categoryName">Category Name  </label>
                  <input type="text" class="form-control" id="categoryName" placeholder="category name" value="{{category.categoryName}}">
                </div>
                
                <div class="form-group">
                  <label for="exampleInputFile">File input</label>
                  <input type="file" id="exampleInputFile">
                </div>
                
                <button type="submit" class="btn btn-default">Submit</button>
             </form>
             */
            <button ngf-select="uploadFiles($files)" multiple
               accept="image/*" ngf-max-height="1000" ngf-max-size="1MB">
                Select Files</button>
            <br><br>
            Files:
            <ul>
              <li ng-repeat="f in files" style="font:smaller">{{f.name}} {{f.$error}} {{f.$errorParam}}
                <span class="progress" ng-show="f.progress >= 0">
                  <div style="width:{{f.progress}}%"  
                      ng-bind="f.progress + '%'"></div>
                </span>
              </li>     
            </ul>
            <button ng-click="uploadPic(files)">Submit</button>
            {{errorMsg}}
             
         </div>

         <div class="modal-footer">
             <button class="btn btn-primary" type="button" ng-click="ok()">OK</button>
             <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>
         </div>
     </script>
